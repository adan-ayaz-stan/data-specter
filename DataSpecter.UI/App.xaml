<Application x:Class="DataSpecter.UI.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:local="clr-namespace:DataSpecter.UI"
    xmlns:converters="clr-namespace:DataSpecter.UI.Converters">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Themes/Colors.xaml"/>

                <ResourceDictionary Source="Themes/Brushes.xaml"/>
                <ui:ThemesDictionary Theme="Dark" />
                <ui:ControlsDictionary />
            </ResourceDictionary.MergedDictionaries>

            <!-- Converters -->
            <converters:InverseBoolConverter x:Key="InverseBoolConverter"/>
            <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
            <converters:IsGreaterThanOneConverter x:Key="IsGreaterThanOneConverter"/>

            <QuadraticEase x:Key="EaseOut" EasingMode="EaseOut"/>

            <FontFamily x:Key="AppFont">./Fonts/#Manrope</FontFamily>
            <FontFamily x:Key="MonoFont">./Fonts/#MonoLisa</FontFamily>

            <!-- Global Styles -->
            <Style TargetType="Window">
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="FontFamily" Value="{StaticResource AppFont}"/>
                <Setter Property="TextOptions.TextFormattingMode" Value="Display"/>
                <Setter Property="TextOptions.TextRenderingMode" Value="ClearType"/>
                <Setter Property="UseLayoutRounding" Value="True"/>
                <Setter Property="SnapsToDevicePixels" Value="True"/>
                <Setter Property="Background" Value="#001219"/>
                <Setter Property="Foreground" Value="#D4D4D4"/>
            </Style>

            <Style x:Key="GlassPanel" TargetType="ContentControl">
                <Setter Property="Opacity" Value="0"/>

                <Setter Property="RenderTransform">
                    <Setter.Value>
                        <TranslateTransform Y="10"/>
                    </Setter.Value>
                </Setter>

                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ContentControl">
                            <Grid ClipToBounds="True">

                                <!-- Glass Card -->
                                <Border CornerRadius="10" Padding="15" Background="Transparent" BorderThickness="1">

                                    <Border.BorderBrush>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#40FFFFFF" Offset="0"/>
                                            <GradientStop Color="#10FFFFFF" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.BorderBrush>

                                    <Border.Effect>
                                        <DropShadowEffect BlurRadius="20" ShadowDepth="4" Opacity="0.15" Color="#000000"/>
                                    </Border.Effect>

                                    <!-- CONTENT -->
                                    <ContentPresenter/>
                                </Border>

                                <!-- Pointer Highlight -->
                                <Border x:Name="PointerHighlight" Opacity="0" CornerRadius="10" IsHitTestVisible="False">
                                    <Border.Background>
                                        <RadialGradientBrush x:Name="PointerHighlightBrush" RadiusX="1.2" RadiusY="4.8" Center="0.5,0.5" GradientOrigin="0.5,0.5">
                                            <GradientStop Color="#10eb0909" Offset="0"/>
                                            <GradientStop Color="Transparent" Offset="1"/>
                                        </RadialGradientBrush>
                                    </Border.Background>
                                </Border>


                                <!-- Glass Sweep -->
                                <Rectangle Opacity="0.15">
                                    <Rectangle.Fill>
                                        <LinearGradientBrush StartPoint="-1,0" EndPoint="1,0">
                                            <GradientStop Color="Transparent" Offset="0"/>
                                            <GradientStop Color="#40FFFFFF" Offset="0.5"/>
                                            <GradientStop Color="Transparent" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Rectangle.Fill>

                                    <Rectangle.RenderTransform>
                                        <TranslateTransform X="-300"/>
                                    </Rectangle.RenderTransform>
                                </Rectangle>
                            </Grid>

                            <!-- Animations -->
                            <ControlTemplate.Triggers>
                                <EventTrigger RoutedEvent="Loaded">
                                    <BeginStoryboard>
                                        <Storyboard>

                                            <!-- Fade In -->
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.7"/>

                                            <!-- Sweep -->
                                            <DoubleAnimation Storyboard.TargetProperty="(Rectangle.RenderTransform).(TranslateTransform.Y)" From="10" To="0" Duration="0:0:0.7" BeginTime="0:0:0.3"/>

                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="PointerHighlight" Property="Opacity" Value="1"/>
                                </Trigger>

                                <Trigger Property="IsMouseOver" Value="False">
                                    <Setter TargetName="PointerHighlight" Property="Opacity" Value="0"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>


            <!-- Custom ScrollBar Style -->
            <Style TargetType="ScrollBar">
                <Setter Property="Background" Value="#001219"/>
                <Setter Property="Foreground" Value="#424242"/>
                <Setter Property="BorderBrush" Value="#333"/>
                <Setter Property="Width" Value="12"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ScrollBar">
                            <Grid x:Name="GridRoot" Width="12" Background="{TemplateBinding Background}">
                                <Track x:Name="PART_Track" IsDirectionReversed="true">
                                    <Track.Thumb>
                                        <Thumb>
                                            <Thumb.Style>
                                                <Style TargetType="Thumb">
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="Thumb">
                                                                <Border Background="#555" CornerRadius="6" BorderThickness="1" BorderBrush="#1E1E1E"/>
                                                                <ControlTemplate.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Background" Value="#777"/>
                                                                    </Trigger>
                                                                    <Trigger Property="IsDragging" Value="True">
                                                                        <Setter Property="Background" Value="#999"/>
                                                                    </Trigger>
                                                                </ControlTemplate.Triggers>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </Thumb.Style>
                                        </Thumb>
                                    </Track.Thumb>
                                </Track>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style TargetType="ScrollViewer">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ScrollViewer">
                            <Grid x:Name="Grid" Background="{TemplateBinding Background}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Rectangle x:Name="Corner" Grid.Column="1" Grid.Row="1" Fill="{DynamicResource {x:Static SystemColors.ControlBrushKey}}"/>
                                <ScrollContentPresenter x:Name="PART_ScrollContentPresenter" CanContentScroll="{TemplateBinding CanContentScroll}" CanHorizontallyScroll="False" Grid.Column="0" Grid.Row="0" Margin="{TemplateBinding Padding}"/>
                                <ScrollBar x:Name="PART_VerticalScrollBar" AutomationProperties.AutomationId="VerticalScrollBar" Cursor="Arrow" Grid.Column="1" Maximum="{TemplateBinding ScrollableHeight}" Minimum="0" Grid.Row="0" Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}" Value="{Binding VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}" ViewportSize="{TemplateBinding ViewportHeight}"/>
                                <ScrollBar x:Name="PART_HorizontalScrollBar" AutomationProperties.AutomationId="HorizontalScrollBar" Cursor="Arrow" Grid.Column="0" Maximum="{TemplateBinding ScrollableWidth}" Minimum="0" Orientation="Horizontal" Grid.Row="1" Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}" Value="{Binding HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}" ViewportSize="{TemplateBinding ViewportWidth}"/>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style TargetType="TextBlock">
                <Setter Property="FontFamily" Value="{StaticResource AppFont}" />
                <Setter Property="TextOptions.TextRenderingMode" Value="ClearType"/>
                <Setter Property="TextOptions.TextFormattingMode" Value="Ideal"/>
            </Style>

            <Style TargetType="Border">
                <Setter Property="CornerRadius" Value="6"/>
            </Style>

            <Style TargetType="Button">
                <Setter Property="Background" Value="#1A73E8"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="FontFamily" Value="{StaticResource AppFont}" />
                <Setter Property="FontWeight" Value="Regular"/>
                <Setter Property="Padding" Value="24,12"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="MaxHeight" Value="40"/>
                <Setter Property="MinWidth" Value="120"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid>
                                <!-- Shadow layer -->
                                <Border x:Name="shadowBorder" Background="#30000000" CornerRadius="6" Margin="0,3,0,-3" Opacity="0.6"/>

                                <!-- Main button -->
                                <Border x:Name="border" CornerRadius="6" Padding="{TemplateBinding Padding}">

                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#ef233c" Offset="0"/>
                                            <GradientStop Color="#ef233c" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.Background>

                                    <Grid>

                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" TextBlock.Foreground="{TemplateBinding Foreground}"/>
                                    </Grid>
                                </Border>
                            </Grid>

                            <ControlTemplate.Triggers>
                                <!-- Hover effect -->
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="shadowBorder" Storyboard.TargetProperty="Opacity" To="0.8" Duration="0:0:0.3">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut"/>
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <ThicknessAnimation Storyboard.TargetName="shadowBorder" Storyboard.TargetProperty="Margin" To="0,5,0,-5" Duration="0:0:0.3">
                                                    <ThicknessAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut"/>
                                                    </ThicknessAnimation.EasingFunction>
                                                </ThicknessAnimation>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="shadowBorder" Storyboard.TargetProperty="Opacity" To="0.6" Duration="0:0:0.3">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut"/>
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <ThicknessAnimation Storyboard.TargetName="shadowBorder" Storyboard.TargetProperty="Margin" To="0,3,0,-3" Duration="0:0:0.3">
                                                    <ThicknessAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut"/>
                                                    </ThicknessAnimation.EasingFunction>
                                                </ThicknessAnimation>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>



                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="shadowBorder" Property="Margin" Value="0,2,0,-2"/>
                                    <Setter TargetName="shadowBorder" Property="Opacity" Value="0.4"/>
                                    <Setter TargetName="border" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                <GradientStop Color="#c1121f" Offset="0"/>
                                                <GradientStop Color="#c1121f" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>

                                <!-- Disabled state -->
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="border" Property="Background">
                                        <Setter.Value>
                                            <SolidColorBrush Color="#9a8c98"/>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter Property="Foreground" Value="#22223b"/>
                                    <Setter TargetName="shadowBorder" Property="Opacity" Value="0"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style TargetType="ListBox">
                <Setter Property="BorderThickness" Value="0"/>
            </Style>

        </ResourceDictionary>
    </Application.Resources>
</Application>
